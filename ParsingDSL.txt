Parsing DSL to JSON Logic

// Logic for { brackets
If (currentNumber <= numberFromPreviousLine) {
	//stack popping math
	abs((line - 1) - line) + 1

	add {
	// [] stack
	abs((line-1) - line)
} else {
	add { 
	add [
	add children tag
}

//Logic for [] brackets
If (currentNumber > numberFromPreviousLine) {
	put a [ in the [ stack
	put a [ in the text
} else if (currentNumber = numberFromPreviousLine) {
	don’t do anything
} else if (currentNumber < numberFromPreviousLine) {
	pop the [ stack
	put a ] in the text
}

// check if not a leaf
(if currentLine does not have an L){
	make sure that no l, v, r, t
}

Stack for {: {, 
Stack for [: [, 

{
	Name: “opensafe”
	Op: “OR”
	children: [{
			name: “forceOpen”
			op: “OR”
			children: [{
				name: “Dynamite”
				I
				v
				r
				t
			},
			{
				name:”Throw out window”
				I
				v
				r
				t	
			}]
		},
		{
			name: “pick lock”
			op: AND
			children:[{
				name: “Insert Bobby”
				I
				v
				r
				t
			},
			{
				name: “pick with bobby”
				l
				v
				r	
				t
			}]
		}]
	}]
}